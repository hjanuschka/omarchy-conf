# Application bindings
$terminal = uwsm app -- kitty
$browser = omarchy-launch-browser


bindd = SUPER, return, Terminal, exec, $terminal --working-directory $(omarchy-cmd-terminal-cwd)
bindd = SUPER, F, File manager, exec, uwsm app -- nautilus --new-window
bindd = SUPER, B, Browser, exec, $browser
bindd = SUPER, M, Music, exec, uwsm app -- spotify
bindd = SUPER, N, Neovim, exec, $terminal -e nvim
bindd = SUPER, T, Activity, exec, $terminal -e btop
bindd = SUPER SHIFT, D, Docker, exec, $terminal -e lazydocker
bindd = SUPER, G, Signal, exec, uwsm app -- signal-desktop
bindd = SUPER, O, Obsidian, exec, uwsm app -- obsidian -disable-gpu
bindd = SUPER, I, Slack, exec, uwsm app -- slack

# Override SUPER+K from omarchy (was keybindings) to Mac-style CTRL+K for Slack
unbind = SUPER, K
binde = SUPER, K, exec, hyprctl dispatch sendshortcut CTRL, K, activewindow
bindd = SUPER, slash, Passwords, exec, uwsm app -- 1password
bindd = SUPER, V, VPN Toggle, exec, /home/arch/.local/bin/vpn-toggle

# If your web app url contains #, type it as ## to prevent hyperland treat it as comments
bindd = SUPER SHIFT, A, Claude, exec, omarchy-launch-webapp "https://claude.ai"
# bindd = SUPER, E, Email, exec, omarchy-launch-webapp "https://app.hey.com" # Removed for fullscreen binding
bindd = SUPER, Y, YouTube, exec, omarchy-launch-webapp "https://youtube.com/"
bindd = SUPER SHIFT, G, WhatsApp, exec, omarchy-launch-webapp "https://web.whatsapp.com/"
bindd = SUPER ALT, G, Google Messages, exec, omarchy-launch-webapp "https://messages.google.com/web/conversations"
bindd = SUPER ALT, X, X, exec, omarchy-launch-webapp "https://x.com/"
bindd = SUPER SHIFT, X, X Post, exec, omarchy-launch-webapp "https://x.com/compose/post"


# üçé MAC KEYBOARD SHORTCUTS SETUP
# These override some omarchy defaults to preserve Mac muscle memory
# Displaced omarchy shortcuts are moved to Super+Shift combinations

# =================== MAC SHORTCUTS ===================
# Clean remapping: Super+Key ‚Üí Ctrl+Key (no external tools needed)
unbind = SUPER, C  # Was Calendar
unbind = SUPER, V  # Was floating toggle  
unbind = SUPER, X  # Was X/Twitter
unbind = SUPER, A  # Was ChatGPT

# Smart clipboard handling - different behavior for kitty vs other apps
binde = SUPER, C, exec, if [[ $(hyprctl activewindow -j | jq -r '.class') == "kitty" ]]; then echo "key ctrl+shift+c" | dotool; else hyprctl dispatch sendshortcut CTRL, C, activewindow; fi
binde = SUPER, V, exec, if [[ $(hyprctl activewindow -j | jq -r '.class') == "kitty" ]]; then echo "key ctrl+shift+v" | dotool; else hyprctl dispatch sendshortcut CTRL, V, activewindow; fi
binde = SUPER, A, exec, if [[ $(hyprctl activewindow -j | jq -r '.class') == "kitty" ]]; then echo "key ctrl+shift+a" | dotool; else hyprctl dispatch sendshortcut CTRL, A, activewindow; fi
binde = SUPER, X, exec, hyprctl dispatch sendshortcut CTRL, X, activewindow
binde = SUPER, Z, exec, hyprctl dispatch sendshortcut CTRL, Z, activewindow
binde = SUPER, S, exec, hyprctl dispatch sendshortcut CTRL, S, activewindow
binde = SUPER, R, exec, hyprctl dispatch sendshortcut CTRL, R, activewindow

# =================== MAC WINDOW/TAB MANAGEMENT ===================
# Override omarchy Activity (Super+T) with Mac New Tab  
unbind = SUPER, T
# Simple approach - just send CTRL+T to all windows
binde = SUPER, T, exec, hyprctl dispatch sendshortcut CTRL, T, activewindow
# Super+W closes tabs in browsers, windows elsewhere
unbind = SUPER, W
binde = SUPER, W, exec, hyprctl dispatch sendshortcut CTRL, W, activewindow

# =================== DISPLACED OMARCHY SHORTCUTS ===================
# Move original omarchy shortcuts to Super+Shift combinations
bindd = SUPER SHIFT, C, Calendar (HEY), exec, omarchy-launch-webapp "https://app.hey.com/calendar/weeks/"
bindd = SUPER SHIFT, T, Activity (btop), exec, $terminal -e btop
# Toggle floating with smart centering/sizing
bind = SUPER, D, exec, /home/arch/.local/bin/toggle-float

# =================== MAC SCREENSHOTS ===================
# Simple and reliable: CMD+F1/F2/F3/F4 (function keys work everywhere)
bind = SUPER, F1, exec, omarchy-cmd-screenshot
bind = SUPER, F2, exec, omarchy-cmd-screenshot window  
bind = SUPER, F3, exec, omarchy-cmd-screenshot output
bind = SUPER, F4, exec, omarchy-cmd-screenshot output

# =================== ADDITIONAL MAC SHORTCUTS ===================
# SUPER+Q quits the current application (Mac-style CMD+Q)
bind = SUPER, Q, killactive
# SUPER+E toggles fullscreen with red border indicator
bind = SUPER, E, exec, /home/arch/.local/bin/toggle-fullscreen-with-border
# SUPER+MINUS minimize window (avoid conflict with Spotify)
bind = SUPER, minus, exec, echo "key alt+F9" | dotool

# =================== MAC APP LAUNCHER ===================
# CTRL+SPACE ‚Üí Use existing omarchy menu (simpler key combo)
bind = CTRL, SPACE, exec, /home/arch/.local/share/omarchy/bin/omarchy-menu

# =================== MAC FINDER-LIKE ===================
bind = SUPER SHIFT, G, exec, echo "key ctrl+l" | dotool

